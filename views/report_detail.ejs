<div class="card">
  <h2><i class="fas fa-clipboard-check"></i> Detalles de la Incidencia #<%= report.id %></h2>
  
  <div class="report-detail">
    <div class="detail-row">
      <div class="detail-label">Título:</div>
      <div class="detail-value"><%= report.title %></div>
    </div>
    
    <div class="detail-row">
      <div class="detail-label">Fecha:</div>
      <div class="detail-value"><%= report.date %></div>
    </div>
    
    <div class="detail-row">
      <div class="detail-label">Descripción:</div>
      <div class="detail-value"><%- report.description %></div>
    </div>
    
    <% if (report.url) { %>
      <div class="detail-row">
        <div class="detail-label">URL:</div>
        <div class="detail-value">
          <a href="<%= report.url %>" target="_blank" class="url-link">
            <i class="fas fa-external-link-alt"></i> Ver enlace adjunto
          </a>
        </div>
      </div>
    <% } %>
    
    <div class="detail-row">
      <div class="detail-label">Estado:</div>
      <div class="detail-value">
        <form action="/admin/report/<%= report.id %>/status" method="POST" class="status-form">
          <select name="status" class="status-select">
            <option value="pending" <%= report.status === 'pending' ? 'selected' : '' %>>Pendiente</option>
            <option value="in-progress" <%= report.status === 'in-progress' ? 'selected' : '' %>>En proceso</option>
            <option value="resolved" <%= report.status === 'resolved' ? 'selected' : '' %>>Resuelto</option>
          </select>
          <button type="submit" class="btn btn-small">Actualizar</button>
        </form>
      </div>
    </div>
  </div>
  
  <div class="action-buttons">
    <a href="/admin" class="btn"><i class="fas fa-arrow-left"></i> Volver al panel</a>
  </div>
</div>

<style>
  .report-detail {
    margin: 1.5rem 0;
  }
  
  .detail-row {
    display: flex;
    margin-bottom: 1rem;
    border-bottom: 1px solid #eee;
    padding-bottom: 0.5rem;
  }
  
  .detail-label {
    font-weight: 600;
    color: var(--color-primary);
    width: 120px;
    flex-shrink: 0;
  }
  
  .detail-value {
    flex: 1;
  }
  
  .url-link {
    color: var(--color-primary);
    text-decoration: none;
  }
  
  .url-link:hover {
    text-decoration: underline;
  }
  
  .status-form {
    display: flex;
    align-items: center;
  }
  
  .status-select {
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-right: 0.5rem;
  }
  
  .btn-small {
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
  }
  
  .action-buttons {
    margin-top: 2rem;
  }
</style>
